# üîê –°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä–æ–ª–µ–π

## –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

- –í `controllers` –ø–∏—à—É—Ç—Å—è endpoints;
- –í `services` –ø–∏—à–µ—Ç—Å—è –ª–æ–≥–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è endpoint-–∞–º–∏;
- –í `models` –ø–∏—à–µ–º –º–æ–¥–µ–ª–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ –ë–î. 
  –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å—Ö–µ–º–∞ `auth`, 
  –≤ –∫–æ—Ç–æ—Ä—É—é –ø–∏—à—É—Ç—Å—è –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã;
- –í `utils/namespace` –∏ `utils/parser` —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞, –æ—Ç–≤–µ—Ç—ã –∏ –æ–∂–∏–¥–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤;
- –í `utils/commands` —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, create-superuser);
- –í `utils/routing` –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π;

## üîë –û–∫—Ä—É–∂–µ–Ω–∏–µ

1. –£–±–µ—Ä–∏—Ç–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã —É `.env.local` –∏–ª–∏ `.env.dist`, 
   —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏–ª–æ—Å—å `.env`.

### –ö–∞–∫–æ–π `.env` –≤—ã–±—Ä–∞—Ç—å‚ùî

1. –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ `.env.local`.

2. –î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –≤ docker-compose –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.env.dist`.

## üèÉ‚Äç‚ôÇÔ∏è –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- –≤ —Ä–µ–∂–∏–º–µ –¥–µ–±–∞–≥ `python app.py` (–≤—ã—Å—Ç–∞–≤–∏—Ç–µ debug = True –≤ .env);
- –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ–¥–∞–∫—à–Ω `python pywsgi.py` (–≤—ã—Å—Ç–∞–≤–∏—Ç–µ debug = False –≤ .env);

## ü¶∏‚Äç‚ôÇÔ∏è –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–î–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ `auth` –∏ –≤–≤–µ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—É.
```commandline
flask create-superuser <login>
```
–ü–æ—Å–ª–µ —á–µ–≥–æ –≤–∞–º –ø—Ä–µ–¥–ª–æ–∂–∞—Ç –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –µ–≥–æ –∏ email. –ò—Ç–æ–≥–æ–≤—ã–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –≤–æ—Ç —Ç–∞–∫:
```commandline
(venv) developer@MacBook-Pro auth % flask --app app create-superuser ADMIN
Enter password: ADMIN
Confirm password: ADMIN
Enter email (optional): 
Superuser was successfully created
(venv) developer@MacBook-Pro auth % flask create-superuser ADMIN 
User already exists. Try again with another login

```

## üìö OpenAPI

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ `http://0.0.0.0:5000/api/v1/user/` 


## üß© –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `auth/tests/functional` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `python main.py`.

–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ –æ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞—Ö –∏ –∑–∞–ø—É—Å–∫–µ –≤ Docker compose —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ [README.md](https://github.com/DanielMorez/async-api-for-cinema/tree/dev/auth/tests#readme)


## üß© –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
–µ—Å–ª–∏ —É –≤–∞—Å —Ç–æ–ª—å–∫–æ –ø–æ—è–≤–∏–ª—Å—è `alembic`, —Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤–≤–µ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—É 
`alembic revision --message='Initial' --autogenerate`
–æ–Ω–∞ —Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—É –≤ –±–¥ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π –º–∏–≥—Ä–∞—Ü–∏–π (`alembic_version`)
–∞ —Ç–∞–∫–∂–µ —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ `auth/alembic/versions`, —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–µ—Ç–æ–¥–æ–≤ upgrade() –∏ downgrade() –∑–∞–º–µ–Ω—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º 
–∏–∑ —Ñ–∞–π–ª–∞ `d06e8509ab2d_initial.py` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

## üß© –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏:
`docker exec auth alembic upgrade head`