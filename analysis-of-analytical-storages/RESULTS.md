Исследоование показало, что ClickHouse быстрее справляется с аналитическими запросами, чем Vertica.
Для примера сравним скорость выполнения одинаковых запросов в обеих БД.

#### Подсчет всех записей
* ClickHouse - 18.6 ms (10 млн)
* Vertica - 85.3 ms (7.94 млн)

#### Подсчет количества уникальных пользователей
* ClickHouse - 178 ms
* Vertica - 7.44 s

#### Выполнение запроса
    SELECT
        user_id,
        sum(viewed_frame),
        max(viewed_frame)
    FROM analysis.viewed_progress
    GROUP by user_id

* ClickHouse - 503 ms
* Vertica - 14.47 s


Операция вставки 1000 рядов в Vertica занмиает около 20 секунд, в то время как в CLickouse та же
операция занимает доли секунды.
Единственная проблема, которая была замечена в работе CLickHouse - это подсчет количества уникальных
фильмов для каждого пользователя. Так как этот запрос не может быть распаралелен и обсчитан отдельно
на каждом шарде, данные приходилось передавать по сети, что существенно замедлило работу.

## Вывод
Было решено использовать ClickHouse, так как он быстрее справляется с задачами вставки и агрегации.